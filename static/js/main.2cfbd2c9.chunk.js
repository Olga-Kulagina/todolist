(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{117:function(t,e,n){t.exports={todolist:"Todolist_todolist__2GHRM",filterButtons:"Todolist_filterButtons__1XsU7"}},144:function(t,e,n){t.exports={addNewTodo:"App_addNewTodo__2wks0"}},145:function(t,e,n){t.exports={addItemForm:"AddItemForm_addItemForm__34y95"}},146:function(t,e,n){t.exports={task:"Task_task__27E1W"}},149:function(t,e,n){t.exports={login:"Login_login__2cSAn"}},169:function(t,e,n){},262:function(t,e,n){"use strict";n.r(e);var c,a,i=n(6),s=n(0),o=n.n(s),r=n(24),d=n.n(r),l=(n(169),n(47)),u=n(31),j=n(269),b=n(73),O=n(40),f=n(265),h=n(57),p=n(270),x=n(144),T=n.n(x),m=n(268),I=n(145),g=n.n(I),k=n(264),v=function(t){var e=Object(s.useState)(""),n=Object(l.a)(e,2),c=n[0],a=n[1];return Object(i.jsxs)("div",{className:g.a.addItemForm,children:[Object(i.jsx)(m.a,{type:"text",value:c,onChange:function(t){a(t.currentTarget.value)},onKeyPress:function(e){13===e.charCode&&(t.callback(c),a(""))}}),Object(i.jsx)(h.a,{onClick:function(e){t.callback(c),a("")},type:"primary",size:"small",shape:"circle",style:{margin:"0 5px"},icon:Object(i.jsx)(k.a,{})})]})},S=n(146),y=n.n(S),C=n(272),_=n(273),E=o.a.memo((function(t){var e=Object(s.useState)(!1),n=Object(l.a)(e,2),c=n[0],a=n[1],o=Object(s.useState)(t.value),r=Object(l.a)(o,2),d=r[0],u=r[1];return c?Object(i.jsx)(m.a,{value:d,onChange:function(t){u(t.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),t.onChange(d)},onKeyPress:function(e){13===e.charCode&&(a(!1),t.onChange(d))}}):Object(i.jsx)("div",{style:{width:"100%"},onDoubleClick:function(){a(!0),u(t.value)},children:t.value})}));!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(c||(c={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(a||(a={}));var L=o.a.memo((function(t){var e=Object(s.useCallback)((function(e){t.changeTaskTitle(t.taskId,e,t.todolistId)}),[t.taskId,t.todolistId]);return Object(i.jsxs)("div",{className:y.a.task,children:[Object(i.jsx)("span",{children:Object(i.jsx)(C.a,{style:{margin:"0 10px 0 0"},checked:t.status===c.Completed,onChange:function(e){var n=e.target.checked;t.changeTaskStatus(n?c.Completed:c.New,t.todolistId,t.taskId)}})}),Object(i.jsx)(E,{value:t.title,onChange:e}),Object(i.jsx)("span",{children:Object(i.jsx)(h.a,{onClick:function(){t.deleteTask(t.taskId,t.todolistId)},type:"text",shape:"circle",icon:Object(i.jsx)(_.a,{}),size:"middle"})})]})})),D=n(117),A=n.n(D),w=n(82),N=n(85),F=n(14),G=n(147),K=n.n(G).a.create(Object(F.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"99efda20-dfa9-469b-8832-45007a73919e"}})),P=function(){return K.get("todo-lists")},H=function(t){return K.post("todo-lists",{title:t})},M=function(t){return K.delete("todo-lists/".concat(t))},R=function(t,e){return K.put("todo-lists/".concat(t),{title:e})},z=function(t){return K.get("todo-lists/".concat(t,"/tasks"))},B=function(t,e){return K.delete("todo-lists/".concat(t,"/tasks/").concat(e))},U=function(t,e){return K.post("todo-lists/".concat(t,"/tasks"),{title:e})},V=function(t,e,n){return K.put("todo-lists/".concat(t,"/tasks/").concat(e),n)},J=function(t){return K.post("auth/login",t)},Z=function(){return K.delete("auth/login")},W=function(){return K.get("auth/me")},X=[],Y=n(266),q=o.a.memo((function(t){var e=Object(u.b)(),n=Object(s.useState)("all"),a=Object(l.a)(n,2),o=a[0],r=a[1];Object(s.useEffect)((function(){var n;e((n=t.id,function(t){z(n).then((function(e){var c=e.data.items;t(function(t,e){return{type:"SET_TASKS",tasks:t,todolistId:e}}(c,n))}))}))}),[e,t.id]);var d=Object(s.useCallback)((function(e){t.changeTodolistTitle(t.id,e)}),[t.id,t.changeTodolistTitle]),j=t.tasks;return"active"===o&&(j=t.tasks.filter((function(t){return t.status!==c.Completed}))),"completed"===o&&(j=t.tasks.filter((function(t){return t.status===c.Completed}))),Object(i.jsx)("div",{className:A.a.todolist,children:Object(i.jsxs)(Y.a,{title:Object(i.jsx)(E,{value:t.title,onChange:d}),bordered:!1,extra:Object(i.jsx)(h.a,{onClick:function(){t.removeTodolist(t.id)},type:"text",shape:"circle",icon:Object(i.jsx)(_.a,{}),size:"large"}),style:{margin:"15px 0"},children:[Object(i.jsx)(v,{callback:function(e){t.addTask(e,t.id)}}),Object(i.jsx)("div",{children:j.map((function(e){return Object(i.jsx)(L,{title:e.title,taskId:e.id,todolistId:e.todoListId,deleteTask:t.deleteTask,changeTaskStatus:t.changeTaskStatus,status:e.status,changeTaskTitle:t.changeTaskTitle},e.id)}))}),Object(i.jsxs)("div",{className:A.a.filterButtons,children:[Object(i.jsx)(h.a,{type:"all"===o?"primary":"default",onClick:function(){r("all")},children:"All"}),Object(i.jsx)(h.a,{type:"active"===o?"primary":"default",onClick:function(){r("active")},children:"Active"}),Object(i.jsx)(h.a,{type:"completed"===o?"primary":"default",onClick:function(){r("completed")},children:"Completed"})]})]})})})),Q=[],$=n(25),tt=function(){var t=Object(u.b)();Object(s.useEffect)((function(){t((function(t){P().then((function(e){t({type:"SET_TODOLISTS",todolists:e.data})}))}))}),[t]);var e=Object(u.c)((function(t){return t.auth.isLoggedIn})),n=Object(u.c)((function(t){return t.todolists})),c=Object(u.c)((function(t){return t.tasks})),a=Object(s.useCallback)((function(e,n){t(function(t,e){return function(n){B(e,t).then((function(c){n(function(t,e){return{type:"REMOVE_TASK",taskId:t,todolistId:e}}(t,e))}))}}(e,n))}),[t]),o=Object(s.useCallback)((function(e){t(function(t){return function(e){H(t).then((function(n){if(0===n.data.resultCode){var c=n.data.data.item.id;e(function(t,e){return{type:"ADD_TODOLIST",title:t,todolistId:e}}(t,c))}}))}}(e))}),[t]),r=Object(s.useCallback)((function(e,n){t(function(t,e){return function(n){U(e,t).then((function(t){0===t.data.resultCode&&n({type:"ADD_TASK",task:t.data.data.item})}))}}(e,n))}),[t]),d=Object(s.useCallback)((function(e){t(function(t){return function(e){M(t).then((function(n){0===n.data.resultCode&&e(function(t){return{type:"REMOVE_TODOLIST",todolistId:t}}(t))}))}}(e))}),[t]),l=Object(s.useCallback)((function(e,n,c){t(function(t,e,n){return function(c,a){var i=a().tasks[e].find((function(t){return t.id===n}));if(i){var s={title:i.title,description:i.description,deadline:i.deadline,priority:i.priority,startDate:i.startDate,status:t};V(e,n,s).then((function(a){c(function(t,e,n){return{type:"CHANGE_TASK_STATUS",status:t,todolistId:e,taskId:n}}(t,e,n))}))}}}(e,n,c))}),[t]),j=Object(s.useCallback)((function(e,n,c){t(function(t,e,n){return function(c,a){var i=a().tasks[t].find((function(t){return t.id===e}));i&&V(t,e,{status:i.status,deadline:i.deadline,description:i.description,priority:i.priority,startDate:i.startDate,title:n}).then((function(a){c(function(t,e,n){return{type:"CHANGE-TASK-TITLE",title:e,todolistId:n,taskId:t}}(e,n,t))}))}}(c,e,n))}),[t]),f=Object(s.useCallback)((function(e,n){t(function(t,e){return function(n){R(t,e).then((function(){n(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",id:t,title:e}}(t,e))}))}}(e,n))}),[t]);return e?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:T.a.addNewTodo,children:Object(i.jsx)(v,{callback:o})}),Object(i.jsx)("div",{className:"site-card-wrapper",children:Object(i.jsx)(b.a,{justify:"center",gutter:16,children:n.map((function(t){var e=c[t.id];return Object(i.jsx)(O.a,{xs:22,sm:12,md:10,lg:8,xl:6,xxl:6,children:Object(i.jsx)(q,{id:t.id,title:t.title,tasks:e,deleteTask:a,removeTodolist:d,addTask:r,changeTaskStatus:l,changeTaskTitle:j,changeTodolistTitle:f},t.id)})}))})})]}):Object(i.jsx)($.a,{to:jt.LOGIN})},et=n(149),nt=n.n(et),ct=n(158),at=n(267),it={isLoggedIn:!1},st=function(t){return{type:"SET_IS_LOGGED_IN",value:t}},ot=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.auth.isLoggedIn})),n=Object(ct.a)({initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(e){var n;t((n=e,function(t){J(n).then((function(e){0===e.data.resultCode&&t(st(!0))}))}))}}),c={wrapperCol:{offset:6,span:16}};return e?Object(i.jsx)($.a,{to:jt.TODOS}):Object(i.jsx)("div",{className:nt.a.login,children:Object(i.jsx)(b.a,{justify:"center",children:Object(i.jsxs)(O.a,{xs:18,sm:16,md:12,lg:10,xl:8,xxl:4,style:{backgroundColor:"#fff"},children:[Object(i.jsxs)("div",{style:{textAlign:"center",padding:"10px 0 0 5px"},children:[Object(i.jsx)("p",{children:"To log in get registered here"}),Object(i.jsx)("p",{children:"or use common test account credentials:"}),Object(i.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(i.jsx)("p",{children:"Password: free"})]}),Object(i.jsxs)(at.a,Object(F.a)(Object(F.a)({onFinish:n.handleSubmit},{labelCol:{span:6},wrapperCol:{span:16}}),{},{children:[Object(i.jsx)(at.a.Item,{label:"Email",children:Object(i.jsx)(m.a,Object(F.a)({id:"email",type:"email"},n.getFieldProps("email")))}),Object(i.jsx)(at.a.Item,{label:"Password",children:Object(i.jsx)(m.a.Password,Object(F.a)({id:"password"},n.getFieldProps("password")))}),Object(i.jsx)(at.a.Item,Object(F.a)(Object(F.a)({},c),{},{children:Object(i.jsx)(C.a,Object(F.a)(Object(F.a)({id:"rememberMe"},n.getFieldProps("rememberMe")),{},{children:"Remember me"}))})),Object(i.jsx)(at.a.Item,Object(F.a)(Object(F.a)({},c),{},{children:Object(i.jsx)(h.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))]})})})},rt=n(271),dt=n(56),lt=function(){return Object(i.jsx)("div",{children:Object(i.jsx)(rt.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(i.jsx)(h.a,{type:"primary",children:Object(i.jsx)(dt.b,{to:jt.TODOS,children:"Back Home"})})})})},ut={isInitialized:!1},jt={TODOS:"/",LOGIN:"/login"},bt=function(){var t=Object(u.b)(),e=j.a.Header,n=j.a.Content,c=j.a.Footer,a=Object(u.c)((function(t){return t.auth.isLoggedIn})),o=Object(u.c)((function(t){return t.app.isInitialized})),r=Object(s.useState)(!1),d=Object(l.a)(r,2),x=d[0],T=d[1];return Object(s.useEffect)((function(){t((function(t){W().then((function(e){0===e.data.resultCode&&t(st(!0)),t({type:"SET_IS_INITIALIZED",value:!0})}))}))}),[t]),o?Object(i.jsxs)(j.a,{className:"layout",children:[Object(i.jsxs)(e,{style:{textAlign:"right"},children:[a?Object(i.jsx)(h.a,{onClick:function(){T(!0)},children:"Log Out"}):"",Object(i.jsx)(p.a,{title:"Confirm log out",visible:x,onOk:function(){T(!1),t((function(t){Z().then((function(e){0===e.data.resultCode&&t(st(!1))}))}))},onCancel:function(){T(!1)},children:Object(i.jsx)("p",{children:"Are you sure you want to log out?"})})]}),Object(i.jsx)(n,{style:{padding:"0 50px"},children:Object(i.jsxs)($.d,{children:[Object(i.jsx)($.b,{exact:!0,path:jt.TODOS,render:function(){return Object(i.jsx)(tt,{})}}),Object(i.jsx)($.b,{path:jt.LOGIN,render:function(){return Object(i.jsx)(ot,{})}}),Object(i.jsx)($.b,{render:function(){return Object(i.jsx)(lt,{})}})]})}),Object(i.jsx)(c,{style:{textAlign:"center"},children:"Todolist"})]}):Object(i.jsx)(b.a,{justify:"center",align:"middle",style:{height:"100vh"},children:Object(i.jsx)(O.a,{span:1,children:Object(i.jsx)(f.a,{size:"large"})})})},Ot=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,274)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),i(t),s(t)}))},ft=n(71),ht=n(157),pt=Object(ft.c)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODOLISTS":return e.todolists;case"ADD_TODOLIST":var n={title:e.title,id:e.todolistId,addedDate:"",order:0};return[n].concat(Object(N.a)(t));case"REMOVE_TODOLIST":return t.filter((function(t){return t.id!==e.todolistId}));case"CHANGE-TODOLIST-TITLE":var c=t.find((function(t){return t.id===e.id}));return c&&(c.title=e.title),Object(N.a)(t);default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODOLISTS":var n=Object(F.a)({},t);return e.todolists.forEach((function(t){n[t.id]=[]})),n;case"SET_TASKS":var c=Object(F.a)({},t);return c[e.todolistId]=e.tasks,c;case"REMOVE_TASK":var a=Object(F.a)({},t),i=a[e.todolistId],s=i.filter((function(t){return t.id!==e.taskId}));return a[e.todolistId]=s,a;case"ADD_TASK":return Object(F.a)(Object(F.a)({},t),{},Object(w.a)({},e.task.todoListId,[e.task].concat(Object(N.a)(t[e.task.todoListId]))));case"ADD_TODOLIST":return Object(F.a)(Object(F.a)({},t),{},Object(w.a)({},e.todolistId,[]));case"CHANGE_TASK_STATUS":var o=Object(F.a)({},t),r=o[e.todolistId],d=r.map((function(t){return t.id===e.taskId?Object(F.a)(Object(F.a)({},t),{},{status:e.status}):t}));return o[e.todolistId]=d,o;case"CHANGE-TASK-TITLE":var l=t[e.todolistId],u=l.map((function(t){return t.id===e.taskId?Object(F.a)(Object(F.a)({},t),{},{title:e.title}):t}));return t[e.todolistId]=u,Object(F.a)({},t);case"REMOVE_TODOLIST":var j=Object(F.a)({},t);return delete j[e.todolistId],j;default:return t}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_IS_LOGGED_IN":return Object(F.a)(Object(F.a)({},t),{},{isLoggedIn:e.value});default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_IS_INITIALIZED":return Object(F.a)(Object(F.a)({},t),{},{isInitialized:e.value});default:return t}}}),xt=Object(ft.d)(pt,Object(ft.a)(ht.a));window.store=xt;n(261);d.a.render(Object(i.jsx)(u.a,{store:xt,children:Object(i.jsx)(dt.a,{children:Object(i.jsx)(bt,{})})}),document.getElementById("root")),Ot()}},[[262,1,2]]]);
//# sourceMappingURL=main.2cfbd2c9.chunk.js.map