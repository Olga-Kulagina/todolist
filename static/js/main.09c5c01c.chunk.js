(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{117:function(t,e,n){t.exports={todolist:"Todolist_todolist__2GHRM",filterButtons:"Todolist_filterButtons__1XsU7"}},144:function(t,e,n){t.exports={addNewTodo:"App_addNewTodo__2wks0"}},145:function(t,e,n){t.exports={addItemForm:"AddItemForm_addItemForm__34y95"}},146:function(t,e,n){t.exports={task:"Task_task__27E1W"}},149:function(t,e,n){t.exports={login:"Login_login__2cSAn"}},169:function(t,e,n){},262:function(t,e,n){"use strict";n.r(e);var c,a,i=n(6),s=n(0),o=n.n(s),r=n(24),d=n.n(r),l=(n(169),n(67)),u=n(31),j=n(269),O=n(73),b=n(40),f=n(265),h=n(55),p=n(270),x=n(144),m=n.n(x),I=n(268),g=n(145),T=n.n(g),k=n(264),v=function(t){var e=Object(s.useState)(""),n=Object(l.a)(e,2),c=n[0],a=n[1];return Object(i.jsxs)("div",{className:T.a.addItemForm,children:[Object(i.jsx)(I.a,{type:"text",value:c,onChange:function(t){a(t.currentTarget.value)},onKeyPress:function(e){13===e.charCode&&(t.callback(c),a(""))}}),Object(i.jsx)(h.a,{onClick:function(e){t.callback(c),a("")},type:"primary",size:"small",shape:"circle",style:{margin:"0 5px"},icon:Object(i.jsx)(k.a,{})})]})},S=n(146),y=n.n(S),_=n(272),C=n(273);!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(c||(c={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(a||(a={}));var E=o.a.memo((function(t){return Object(i.jsxs)("div",{className:y.a.task,children:[Object(i.jsxs)("span",{children:[Object(i.jsx)(_.a,{style:{margin:"0 10px 0 0"},checked:t.status===c.Completed,onChange:function(e){var n=e.target.checked;t.changeTaskStatus(n?c.Completed:c.New,t.todolistId,t.taskId)}}),t.title]}),Object(i.jsx)("span",{children:Object(i.jsx)(h.a,{onClick:function(){t.deleteTask(t.taskId,t.todolistId)},type:"text",shape:"circle",icon:Object(i.jsx)(C.a,{}),size:"middle"})})]})})),D=n(117),L=n.n(D),w=n(82),A=n(108),N=n(17),F=n(147),P=n.n(F).a.create(Object(N.a)({baseURL:"https://social-network.samuraijs.com/api/1.1/"},{withCredentials:!0,headers:{"API-KEY":"99efda20-dfa9-469b-8832-45007a73919e"}})),M=function(){return P.get("todo-lists")},G=function(t){return P.post("todo-lists",{title:t})},K=function(t){return P.delete("todo-lists/".concat(t))},R=function(t){return P.get("todo-lists/".concat(t,"/tasks"))},z=function(t,e){return P.delete("todo-lists/".concat(t,"/tasks/").concat(e))},H=function(t,e){return P.post("todo-lists/".concat(t,"/tasks"),{title:e})},B=function(t,e,n){return P.put("todo-lists/".concat(t,"/tasks/").concat(e),n)},U=function(t){return P.post("auth/login",t)},V=function(){return P.delete("auth/login")},J=function(){return P.get("auth/me")},Z=[],W=n(266),X=o.a.memo((function(t){var e=Object(u.b)(),n=Object(s.useState)("all"),a=Object(l.a)(n,2),o=a[0],r=a[1];Object(s.useEffect)((function(){var n;e((n=t.id,function(t){R(n).then((function(e){var c=e.data.items;t(function(t,e){return{type:"SET_TASKS",tasks:t,todolistId:e}}(c,n))}))}))}),[e,t.id]);var d=t.tasks;return"active"===o&&(d=t.tasks.filter((function(t){return t.status!==c.Completed}))),"completed"===o&&(d=t.tasks.filter((function(t){return t.status===c.Completed}))),Object(i.jsx)("div",{className:L.a.todolist,children:Object(i.jsxs)(W.a,{title:t.title,bordered:!1,extra:Object(i.jsx)(h.a,{onClick:function(){t.removeTodolist(t.id)},type:"text",shape:"circle",icon:Object(i.jsx)(C.a,{}),size:"large"}),style:{margin:"15px 0"},children:[Object(i.jsx)(v,{callback:function(e){t.addTask(e,t.id)}}),Object(i.jsx)("div",{children:d.map((function(e){return Object(i.jsx)(E,{title:e.title,taskId:e.id,todolistId:e.todoListId,deleteTask:t.deleteTask,changeTaskStatus:t.changeTaskStatus,status:e.status},e.id)}))}),Object(i.jsxs)("div",{className:L.a.filterButtons,children:[Object(i.jsx)(h.a,{type:"all"===o?"primary":"default",onClick:function(){r("all")},children:"All"}),Object(i.jsx)(h.a,{type:"active"===o?"primary":"default",onClick:function(){r("active")},children:"Active"}),Object(i.jsx)(h.a,{type:"completed"===o?"primary":"default",onClick:function(){r("completed")},children:"Completed"})]})]})})})),Y=[],q=n(25),Q=function(){var t=Object(u.b)();Object(s.useEffect)((function(){t((function(t){M().then((function(e){t({type:"SET_TODOLISTS",todolists:e.data})}))}))}),[t]);var e=Object(u.c)((function(t){return t.auth.isLoggedIn})),n=Object(u.c)((function(t){return t.todolists})),c=Object(u.c)((function(t){return t.tasks})),a=Object(s.useCallback)((function(e,n){t(function(t,e){return function(n){z(e,t).then((function(c){n(function(t,e){return{type:"REMOVE_TASK",taskId:t,todolistId:e}}(t,e))}))}}(e,n))}),[t]),o=Object(s.useCallback)((function(e){t(function(t){return function(e){G(t).then((function(n){if(0===n.data.resultCode){var c=n.data.data.item.id;e(function(t,e){return{type:"ADD_TODOLIST",title:t,todolistId:e}}(t,c))}}))}}(e))}),[t]),r=Object(s.useCallback)((function(e,n){t(function(t,e){return function(n){H(e,t).then((function(t){0===t.data.resultCode&&n({type:"ADD_TASK",task:t.data.data.item})}))}}(e,n))}),[t]),d=Object(s.useCallback)((function(e){t(function(t){return function(e){K(t).then((function(n){0===n.data.resultCode&&e(function(t){return{type:"REMOVE_TODOLIST",todolistId:t}}(t))}))}}(e))}),[t]),l=Object(s.useCallback)((function(e,n,c){t(function(t,e,n){return function(c,a){var i=a().tasks[e].find((function(t){return t.id===n}));if(i){var s={title:i.title,description:i.description,deadline:i.deadline,priority:i.priority,startDate:i.startDate,status:t};B(e,n,s).then((function(a){c(function(t,e,n){return{type:"CHANGE_TASK_STATUS",status:t,todolistId:e,taskId:n}}(t,e,n))}))}}}(e,n,c))}),[t]);return e?Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:m.a.addNewTodo,children:Object(i.jsx)(v,{callback:o})}),Object(i.jsx)("div",{className:"site-card-wrapper",children:Object(i.jsx)(O.a,{justify:"center",gutter:16,children:n.map((function(t){var e=c[t.id];return Object(i.jsx)(b.a,{xs:22,sm:12,md:10,lg:8,xl:6,xxl:6,children:Object(i.jsx)(X,{id:t.id,title:t.title,tasks:e,deleteTask:a,removeTodolist:d,addTask:r,changeTaskStatus:l},t.id)})}))})})]}):Object(i.jsx)(q.a,{to:lt.LOGIN})},$=n(149),tt=n.n($),et=n(158),nt=n(267),ct={isLoggedIn:!1},at=function(t){return{type:"SET_IS_LOGGED_IN",value:t}},it=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.auth.isLoggedIn})),n=Object(et.a)({initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(e){var n;t((n=e,function(t){U(n).then((function(e){0===e.data.resultCode&&t(at(!0))}))}))}}),c={wrapperCol:{offset:6,span:16}};return e?Object(i.jsx)(q.a,{to:lt.TODOS}):Object(i.jsx)("div",{className:tt.a.login,children:Object(i.jsx)(O.a,{justify:"center",children:Object(i.jsxs)(b.a,{xs:18,sm:16,md:12,lg:10,xl:8,xxl:4,style:{backgroundColor:"#fff"},children:[Object(i.jsxs)("div",{style:{textAlign:"center",padding:"10px 0 0 5px"},children:[Object(i.jsx)("p",{children:"To log in get registered here"}),Object(i.jsx)("p",{children:"or use common test account credentials:"}),Object(i.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(i.jsx)("p",{children:"Password: free"})]}),Object(i.jsxs)(nt.a,Object(N.a)(Object(N.a)({onFinish:n.handleSubmit},{labelCol:{span:6},wrapperCol:{span:16}}),{},{children:[Object(i.jsx)(nt.a.Item,{label:"Email",children:Object(i.jsx)(I.a,Object(N.a)({id:"email",type:"email"},n.getFieldProps("email")))}),Object(i.jsx)(nt.a.Item,{label:"Password",children:Object(i.jsx)(I.a.Password,Object(N.a)({id:"password"},n.getFieldProps("password")))}),Object(i.jsx)(nt.a.Item,Object(N.a)(Object(N.a)({},c),{},{children:Object(i.jsx)(_.a,Object(N.a)(Object(N.a)({id:"rememberMe"},n.getFieldProps("rememberMe")),{},{children:"Remember me"}))})),Object(i.jsx)(nt.a.Item,Object(N.a)(Object(N.a)({},c),{},{children:Object(i.jsx)(h.a,{type:"primary",htmlType:"submit",children:"Submit"})}))]}))]})})})},st=n(271),ot=n(54),rt=function(){return Object(i.jsx)("div",{children:Object(i.jsx)(st.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(i.jsx)(h.a,{type:"primary",children:Object(i.jsx)(ot.b,{to:lt.TODOS,children:"Back Home"})})})})},dt={isInitialized:!1},lt={TODOS:"/",LOGIN:"/login"},ut=function(){var t=Object(u.b)(),e=j.a.Header,n=j.a.Content,c=j.a.Footer,a=Object(u.c)((function(t){return t.auth.isLoggedIn})),o=Object(u.c)((function(t){return t.app.isInitialized})),r=Object(s.useState)(!1),d=Object(l.a)(r,2),x=d[0],m=d[1];return Object(s.useEffect)((function(){t((function(t){J().then((function(e){0===e.data.resultCode&&t(at(!0)),t({type:"SET_IS_INITIALIZED",value:!0})}))}))}),[t]),o?Object(i.jsxs)(j.a,{className:"layout",children:[Object(i.jsxs)(e,{style:{textAlign:"right"},children:[a?Object(i.jsx)(h.a,{onClick:function(){m(!0)},children:"Log Out"}):"",Object(i.jsx)(p.a,{title:"Confirm log out",visible:x,onOk:function(){m(!1),t((function(t){V().then((function(e){0===e.data.resultCode&&t(at(!1))}))}))},onCancel:function(){m(!1)},children:Object(i.jsx)("p",{children:"Are you sure you want to log out?"})})]}),Object(i.jsx)(n,{style:{padding:"0 50px"},children:Object(i.jsxs)(q.d,{children:[Object(i.jsx)(q.b,{exact:!0,path:lt.TODOS,render:function(){return Object(i.jsx)(Q,{})}}),Object(i.jsx)(q.b,{path:lt.LOGIN,render:function(){return Object(i.jsx)(it,{})}}),Object(i.jsx)(q.b,{render:function(){return Object(i.jsx)(rt,{})}})]})}),Object(i.jsx)(c,{style:{textAlign:"center"},children:"Todolist"})]}):Object(i.jsx)(O.a,{justify:"center",align:"middle",style:{height:"100vh"},children:Object(i.jsx)(b.a,{span:1,children:Object(i.jsx)(f.a,{size:"large"})})})},jt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,274)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),i(t),s(t)}))},Ot=n(71),bt=n(157),ft=Object(Ot.c)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODOLISTS":return e.todolists;case"ADD_TODOLIST":var n={title:e.title,id:e.todolistId,addedDate:"",order:0};return[n].concat(Object(A.a)(t));case"REMOVE_TODOLIST":return t.filter((function(t){return t.id!==e.todolistId}));default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TODOLISTS":var n=Object(N.a)({},t);return e.todolists.forEach((function(t){n[t.id]=[]})),n;case"SET_TASKS":var c=Object(N.a)({},t);return c[e.todolistId]=e.tasks,c;case"REMOVE_TASK":var a=Object(N.a)({},t),i=a[e.todolistId],s=i.filter((function(t){return t.id!==e.taskId}));return a[e.todolistId]=s,a;case"ADD_TASK":return Object(N.a)(Object(N.a)({},t),{},Object(w.a)({},e.task.todoListId,[e.task].concat(Object(A.a)(t[e.task.todoListId]))));case"ADD_TODOLIST":return Object(N.a)(Object(N.a)({},t),{},Object(w.a)({},e.todolistId,[]));case"CHANGE_TASK_STATUS":var o=Object(N.a)({},t),r=o[e.todolistId],d=r.map((function(t){return t.id===e.taskId?Object(N.a)(Object(N.a)({},t),{},{status:e.status}):t}));return o[e.todolistId]=d,o;case"REMOVE_TODOLIST":var l=Object(N.a)({},t);return delete l[e.todolistId],l;default:return t}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_IS_LOGGED_IN":return Object(N.a)(Object(N.a)({},t),{},{isLoggedIn:e.value});default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_IS_INITIALIZED":return Object(N.a)(Object(N.a)({},t),{},{isInitialized:e.value});default:return t}}}),ht=Object(Ot.d)(ft,Object(Ot.a)(bt.a));window.store=ht;n(261);d.a.render(Object(i.jsx)(u.a,{store:ht,children:Object(i.jsx)(ot.a,{children:Object(i.jsx)(ut,{})})}),document.getElementById("root")),jt()}},[[262,1,2]]]);
//# sourceMappingURL=main.09c5c01c.chunk.js.map